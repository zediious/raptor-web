{% load static %}
{% load django_bootstrap5 %}

{{ form.media }}

<div class='d-flex justify-content-evenly mb-0'>
    <button id='select-button-1' class='btn btn-primary selection-button'>
        General
    </button>
    <button id='select-button-2' class='btn btn-outline-secondary selection-button'>
        Information
    </button>
    <button id='select-button-3' class='btn btn-outline-secondary selection-button'>
        Querying
    </button>
    <button id='select-button-4' class='btn btn-outline-secondary selection-button'>
        Discord Announcements
    </button>
    <button id='select-button-5' class='btn btn-outline-secondary selection-button'>
        Donations
    </button>
</div>

<hr class='mt-0 mb-4'>

<div id='update_form_wrapper' class='container-flex'>
    <form id="update_form_alone" class="form text-white"
        enctype="multipart/form-data" 
        hx-post="{% url 'panel:server/update_IR' pk=server.pk %} "
        hx-swap="none"
    >
        {% csrf_token %}
        {% bootstrap_form form %}
        <button class='btn btn-success' type='submit'>
            Save Changes
        </button>
    </form>
</div>

<script>

let select_1 = $('#select-button-1')
let select_2 = $('#select-button-2')
let select_3 = $('#select-button-3')
let select_4 = $('#select-button-4')
let select_5 = $('#select-button-5')

const select_list = [select_1, select_2, select_3, select_4, select_5]

function checkButtonState(button) {
    if (button.hasClass('btn-primary')) {
        button.toggleClass('btn-primary')
    }
    if (button.hasClass('btn-outline-secondary')) {
        void 0;
    }
    else {
        button.toggleClass('btn-outline-secondary')
    }
}

document.getElementById('select-button-1').addEventListener('click', function(e) {
    if (select_1.hasClass('btn-primary')) {
        void 0;
    }
    else {
        select_list.forEach(checkButtonState)
        select_1.toggleClass('btn-outline-secondary')
        select_1.toggleClass('btn-primary')
    }
});

document.getElementById('select-button-2').addEventListener('click', function(e) {
    if (select_2.hasClass('btn-primary')) {
        void 0;
    }
    else {
        select_list.forEach(checkButtonState)
        select_2.toggleClass('btn-outline-secondary')
        select_2.toggleClass('btn-primary')
    }
});

document.getElementById('select-button-3').addEventListener('click', function(e) {
    if (select_3.hasClass('btn-primary')) {
        void 0;
    }
    else {
        select_list.forEach(checkButtonState)
        select_3.toggleClass('btn-outline-secondary')
        select_3.toggleClass('btn-primary')
    }
});

document.getElementById('select-button-4').addEventListener('click', function(e) {
    if (select_4.hasClass('btn-primary')) {
        void 0;
    }
    else {
        select_list.forEach(checkButtonState)
        select_4.toggleClass('btn-outline-secondary')
        select_4.toggleClass('btn-primary')
    }
});

document.getElementById('select-button-5').addEventListener('click', function(e) {
    if (select_5.hasClass('btn-primary')) {
        void 0;
    }
    else {
        select_list.forEach(checkButtonState)
        select_5.toggleClass('btn-outline-secondary')
        select_5.toggleClass('btn-primary')
    }
});

</script>
