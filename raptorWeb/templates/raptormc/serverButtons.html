{% load static %}
{% load serverContext %}

{% for server in server_info reversed %} 

    {% if server == 'view' or server == 'totalCount' %}
    {% else %}
                    
    <span id="serverButton" class="fade-in-button col-lg-12 col-6 mt-2"><button class="btn btn-dark fs-4 d-flex" data-bs-toggle="modal" data-bs-target="#{{ server|get_key }}Info">
        <img class="w-100 fade-in" src="/media/modpack_pictures/{{ server|get_key}}.webp" alt="{{ server|get_modpack_name }}">
        {% if server|get_maintenance %}
        <img class="w-25 p-2 fade-in" src="{% static 'image/maintenance_indicator.webp' %}">
        {% else %}
        {% if server|get_state %}
        <img class="w-25 p-2 fade-in" src="{% static 'image/online_indicator.webp' %}">
        {% else %}
        <img class="w-25 p-2 fade-in" src="{% static 'image/offline_indicator.webp' %}">
        {% endif %}
        {% endif %}
    </button></span>

    {% endif %}

{% endfor %}
<script src="{% static 'javascript/src/dep/jquery-3.6.1.min.js' %}"></script>
<script src="{% static 'javascript/src/dep/clipboard.min.js' %}"></script>
<script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>
<script>
    $( document ).ready(function() {
    {% for server in server_info reversed %}

            new ClipboardJS('.copy{{ server|get_key}}Address', {
                container: document.getElementById('{{ server|get_key}}Desc')
            });

    {% endfor %}
    });
</script>